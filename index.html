<!DOCTYPE html>
<html>
<head>
  <title>4 images 1 mot - Codiscovery - Kryptonik</title>
</head>
<body>
  <h1>Level -</h1>
  <div class="imgs">
    <img />
    <img />
    <img />
    <img />
  </div>
  <div class="mystery"></div>
  <ul class="letters">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ul>
  <script type="text/javascript">
    // INITIALISATION
    let answer = '';
    let selectedWord = '';
    let currentLevel = 1;
    let shuffledLetters = [];
    let maxLettersIndex = 0;
    let maxLevel = 0;
    const mysteryEl = document.getElementsByClassName('mystery')[0];

    // MAIN
    const buildLevel = async (isReshuffled = true) => {
      // RESET
      answer = '';

      // TITLE
      const titleEl = document.getElementsByTagName('h1')[0];
      titleEl.innerHTML = `Level ${currentLevel}`;

      // API
      const apiResponse = await fetch(`http://labs.kryptonik.net/four_images_one_word/api/level/${currentLevel}`);
      const wordObj = await apiResponse.json();
      console.log('wordObj', wordObj);
      maxLevel = wordObj.maxLevel;

      // IMAGES
      // const img1El = document.getElementsByTagName('img')[0];
      // img1El.src = wordObj.imgs[0];
      // const img2El = document.getElementsByTagName('img')[1];
      // img2El.src = wordObj.imgs[1];
      // const img3El = document.getElementsByTagName('img')[2];
      // img3El.src = wordObj.imgs[2];
      // const img4El = document.getElementsByTagName('img')[3];
      // img4El.src = wordObj.imgs[3];

      wordObj.imgs.forEach((src, index) => {
        const imgEl = document.getElementsByTagName('img')[index];
        imgEl.src = src;
      });

      // LETTERS - INITIALISATION
      // LETTERS - REMOVE PREVIOUS
      // LETTERS - MYSTERY LENGTH
      // LETTERS - SHUFFLE
    };
    // EVENT LISTENERS
    // ANSWER
    // FUNCTIONS
    // STARTER
    buildLevel();
  </script>
</body>
</html>